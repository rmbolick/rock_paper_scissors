<html>
    <body>

    </body>
    <script>

        function computerPlay(){
            let possibleVals = ['rock','paper','scissors'];
            return possibleVals[Math.floor(Math.random() * 3)];
        }

        function computerPlayTest(){
            let possibleVals = ['rock','paper','scissors'];
            return Math.floor(Math.random() * 3);
        }

        function playRound(playerSelection, computerSelection){
            let playerVal = playerSelection.toLowerCase();
            let possibleVals = ['rock','paper','scissors'];
            if (possibleVals.includes(playerVal)) {
                if (playerVal === 'rock') {
                    if (computerSelection ==='rock') {
                        return "Draw! Rock ties Rock";
                    } else if (computerSelection === 'scissors') {
                        return "You Win! Rock beats Scissors";
                    } else {
                        return "You Lose! Paper beats Rock";
                    }
                } else if (playerVal === 'scissors') {
                    if (computerSelection ==='rock') {
                        return "You Lose! Rock beats Scissors";
                    } else if (computerSelection === 'scissors') {
                        return "Draw! Scissors tie Scissors";
                    } else {
                        return "You Win! Scissors beat Paper";
                    }
                } else {
                    if (computerSelection ==='rock') {
                        return "You Win! Paper beats Rock";
                    } else if (computerSelection === 'scissors') {
                        return "You Lose! Scissors beat Paper";
                    } else {
                        return "Draw! Paper ties Paper";
                    }
                }
            } else {
                return "Invalid Play";
            }
        }

        function getWin(inp) {
            if (inp.includes("Win")){
                return 1;
            } else if (inp.includes("Lose")){
                return 0;
            } else {
                return 2;
            }
           
        }
        
        function game(rounds){
            let score_player=0;
            let score_computer=0;
            let curr_round=1;
            
            for (i=1; i<=rounds; i++) {
                playerSelect = prompt("Rock, Paper, or Scissors?")
                let computerSelect = computerPlay();
                let result = playRound(playerSelect, computerSelect);
                console.log(`-------------Round ${i}-------------`);
                console.log(`Player: ${playerSelect}`);
                console.log(`Computer: ${computerSelect}`);
                console.log(result);
                if (getWin(result) === 1){
                    score_player++;
                } 
                if (getWin(result) === 0) {
                    score_computer++;
                } 

                console.log(`Player Score: ${score_player}`);
                console.log(`Computer Score: ${score_computer}`);
                if (i === rounds) {
                    if (score_player>score_computer){
                        console.log("You Win!");
                    } else if (score_player<score_computer){
                        console.log("You Lose!");
                    } else {
                        console.log("It's a tie!");
                    }
                }
                

            }

        }

        game(5)
        
        
    </script>
</html>